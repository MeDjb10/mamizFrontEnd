<!-- admin-form-event-atelier.component.html -->

<div class="max-w-lg mx-auto p-4 bg-white shadow-md rounded-lg">
  <p  class="text-4xl font-bold tracking-tight text-center w-fit p-2 text-teal">
    Creation d'<span *ngIf="isAtelier">atelier</span><span *ngIf="!isAtelier">evenement</span> :  
    </p>
    <hr class="mb-2">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Titre</label>
      <input type="text" formControlName="title" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" />
      <p>
        <span *ngIf="form.get('title')?.errors?.['required'] && form.get('title')?.touched" class="text-darkpink"> <i class="fa-solid fa-circle-exclamation"></i> Le titre est requis.</span>
        <span *ngIf="form.get('title')?.errors?.['minlength']" class="text-yellow-300"><i class="fa-solid fa-triangle-exclamation"></i> Le titre doit comporter au moins 5 caract√®res.</span>
      </p>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Description</label>
      <textarea formControlName="description" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm"></textarea>
      <p>
        <span *ngIf="form.get('description')?.errors?.['required'] && form.get('description')?.touched" class="text-darkpink"> <i class="fa-solid fa-circle-exclamation"></i> La description est requise.</span>
        <span *ngIf="form.get('description')?.errors?.['maxlength']" class="text-yellow-300"><i class="fa-solid fa-triangle-exclamation"></i> La description est  trop longue.</span>
      </p>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Photo</label>
      <input type="file" (change)="onPhotoSelected($event)" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" />
      <p>
        <span *ngIf="form.get('photo')?.errors?.['required'] && form.get('photo')?.touched" class="text-darkpink"> <i class="fa-solid fa-circle-exclamation"></i> L'image principale est requise.</span>
        <span *ngIf="form.get('photo')?.invalid" class="text-yellow-300"><i class="fa-solid fa-triangle-exclamation"></i> Il faut inserer un image de type  jpg, jpeg ou png.</span>
      </p>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Date</label>
      <input type="datetime-local" formControlName="date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" />
      <p >
        <span *ngIf="form.get('date')?.errors?.['required'] && form.get('date')?.touched" class="text-darkpink"> <i class="fa-solid fa-circle-exclamation"></i> La date est requise.</span>
      </p>
    </div>

    <ng-container *ngIf="isAtelier">
      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700">Emplacement</label>
        <input type="text" formControlName="place" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" />
        <p >
          <span *ngIf="form.get('place')?.errors?.['required'] && form.get('place')?.touched" class="text-darkpink"> <i class="fa-solid fa-circle-exclamation"></i> L'emplacement de l'atelier est requis.</span>
        </p>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700">Prix</label>
        <input type="number" formControlName="price" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" />
        <p >
          <span *ngIf="form.get('price')?.errors?.['required'] && form.get('price')?.touched" class="text-darkpink"> <i class="fa-solid fa-circle-exclamation"></i> Le prix est requis.</span>
        </p>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700">Max Places</label>
        <input type="number" formControlName="maxPlaces" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" />
        <p >
          <span *ngIf="form.get('maxPlaces')?.errors?.['required'] && form.get('maxPlaces')?.touched" class="text-darkpink"> <i class="fa-solid fa-circle-exclamation"></i> Le nombre maximal de places est requis.</span>
        </p>
      </div>
    </ng-container>

    <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded-md">
      {{ isUpdate ? 'Update' : 'Create' }}
    </button>
  </form>
</div>
